<table mat-table [dataSource]="data" matSort class="mat-elevation-z8">

  @for (column of craftables.columns; track column.id) {
  <ng-container [matColumnDef]="column.id">
    <th mat-header-cell [mat-sort-header]="column.id" *matHeaderCellDef [width]="column.width">
      {{column.displayName}}
    </th>
    <td mat-cell *matCellDef="let object" [style.text-align]="column.align">
      @if (column | column: 'content'; as content) {
      <ng-container *ngComponentOutlet="content.component; inputs: content.inputs(object)"></ng-container>
      }
      @if (column | column: 'value'; as content) {
      {{content.get(object)}}
      }
    </td>
  </ng-container>
  }

  <tr mat-header-row *matHeaderRowDef="craftables | columns"></tr>
  <tr mat-row *matRowDef="let row; columns: craftables | columns;"></tr>
</table>
