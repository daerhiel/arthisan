<div class="app-l-flex app-l-flex-gap-1r app-ml-1r app-mr-1r">
  <div class="app-l-flex-spacer-1r"></div>
  <mat-form-field>
    <input matInput placeholder="Search..." [formControl]="_search" />
  </mat-form-field>
</div>

<table mat-table [dataSource]="_data" matSort class="mat-elevation-z8">

  @for (column of _craftables.columns; track column.id) {
  <ng-container [matColumnDef]="column.id">
    <th mat-header-cell [mat-sort-header]="column.id" *matHeaderCellDef [width]="column.width">
      {{column.displayName}}
    </th>
    <td mat-cell *matCellDef="let object" [style.text-align]="column.align">
      @if (column | column: 'content'; as content) {
      <ng-container *ngComponentOutlet="content.component; inputs: content.map(object, _i18n)"></ng-container>
      }
      @if (column | column: 'value'; as content) {
      {{content.fit(object, _i18n)}}
      }
    </td>
  </ng-container>
  }

  <tr mat-header-row *matHeaderRowDef="_craftables | columns"></tr>
  <tr mat-row *matRowDef="let row; columns: _craftables | columns;"></tr>
</table>
<mat-paginator [pageSizeOptions]="_pages()" aria-label="Select page"></mat-paginator>
